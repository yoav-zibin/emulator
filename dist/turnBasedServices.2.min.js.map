{"version":3,"file":"turnBasedServices.2.min.js","sources":["turnBasedServices.2.js"],"names":["resizeMapArea","params","rescale","image","document","getElementById","imageId","map","mapId","widthScale","width","originalWidth","heightScale","height","originalHeight","areaElements","getElementsByTagName","areaIndex","length","areaElement","originalCoords","getAttribute","setAttribute","coords","split","coordsPercent","i","Math","round","toString","addEventListener","setInterval","emulatorServicesCompilationDate","angular","module","service","$window","$timeout","$log","$rootScope","setPlayMode","_playMode","playMode","undefined","game","setPlayers","sendUpdateUi","setRandomSeed","_randomSeed","randomSeed","playersInfo","actualNumberOfPlayers","randomFromTo","minNumberOfPlayers","maxNumberOfPlayers","playerId","push","init","throwError","currentState","lastState","currentVisibleTo","lastVisibleTo","lastMove","turnIndexBeforeMove","turnIndex","endMatchScores","moveNumber","startNewMatch","broadcastUpdateUi","getKeys","object","keys","key","hasOwnProperty","clone","obj","copy","isNull","error","arguments","msg","Array","prototype","join","call","Error","get","field","getMoveForPlayerIndex","playerIndex","move","moveForPlayer","k","operation","set","visibleToPlayerIndexes","indexOf","value","getStateForPlayerIndex","gameState","visibleTo","result","shuffle","keysCopy","slice","index","removed","splice","from","to","floor","random","processApiOperation","op","setTurn","setRandomInteger","setVisibility","endMatch","toJson","setTurnOrEndMatchCount","scores","shuffledKeys","oldGameState","oldVisibleTo","j","fromKey","toKey","randomValue","getYourPlayerIndex","getMatchState","setMatchState","data","getIntercom","Intercom","getInstance","matchState","intercom","localStorage","setItem","location","emit","gotBroadcastUpdateUi","info","delayedSendUpdateUi","moveForIndex","stateBeforeMove","stateAfterMove","isMoveOk","turnIndexAfterMove","numberOfPlayers","updateUI","yourPlayerIndex","settings","simulateServerDelayMilliseconds","makeMove","operations","seedrandom","setGame","_game","on","getItem","fromJson","isTie","score","getWinnerIndex","winnerIndex","search","this","getTurnIndex","isYourTurn","getEndMatchScores","isWinner","logSaver","gameUrl","sendMessage","message","parent","postMessage","addMessageListener","listener","event","source","$apply","factory","angularErrorHandler","exception","cause","lines","stack","replace","getLogs","errStr","console","emailJavaScriptError","window","onerror","errorMsg","url","lineNumber","column","errorObj","getCurrentTime","performance","now","Date","getTime","getLogEntry","args","time","startTime","storeLog","lastLogs","shift","convertLogEntriesToStrings","logs","entry","stringArgs","arg","stringArg","toFixed","alwaysLogs","alwaysLog","apply","debug","warn","log","stateService","messageService","passUpdateUI","lastUpdateUI","wasYourTurn","isLocalTesting","createPlayersInfo","didCallSetGame","gameDeveloperEmail","lastMessage","isMoveOkResult","gameReady","alphaBetaDecision","startingState","getNextStates","getStateScoreForIndex0","getDebugStateToString","alphaBetaLimits","millisecondsLimit","maxDepth","getScoreForIndex0","Number","NEGATIVE_INFINITY","POSITIVE_INFINITY","bestState","nextBestStateAndScore","nextBestScore","bestScore","nextBestState","isWin","isHalfTimePassed","isTimeout","isAllTimePassed","depth","alpha","beta","states","state","scoreForIndex0","max","min","setWidthToHeight","_widthToHeight","widthToHeight","gameArea","doc","oldSizes","round2","num","originalWindowWidth","innerWidth","originalWindowHeight","innerHeight","windowWidth","windowHeight","style","display","newWidthToHeight","keepMargin","position","left","top","onresize","onorientationchange","getFirstBrowserLanguage","language","nav","navigator","browserLanguagePropertyKeys","isArray","languages","getLocale","array","searchElement","len","negotiateLocale","preferred","avail","locale","lowercase","n","$availableLanguageKeys","parts","getLanguage","urlParams","lang","angularTranslationLanguages","query","substr","forEach","part","item","decodeURIComponent","angularLanguage","angularTranslationsLoaded","codeToL10N","angularTranslations","script","write","$interpolate","loadFromLocalStorage","str","translate","translationId","interpolateParams","translation","allLanguages","$translate","filter","$parse","isObject","addDragListener","touchElementId","handleDragEvent","touchHandler","touch","changedTouches","handleEvent","type","clientX","clientY","mouseDownHandler","isMouseDown","mouseMoveHandler","mouseUpHandler","preventDefault","stopPropagation","cancelBubble","returnValue"],"mappings":"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"}