{"version":3,"file":"turnBasedServices.3.min.js","sources":["turnBasedServices.3.js"],"names":["resizeMapArea","params","rescale","image","document","getElementById","imageId","map","mapId","widthScale","width","originalWidth","heightScale","height","originalHeight","areaElements","getElementsByTagName","areaIndex","length","areaElement","originalCoords","getAttribute","setAttribute","coords","split","coordsPercent","i","coordNum","Number","Math","round","toString","addEventListener","setInterval","createTranslateService","translate","translationId","interpolateParams","codeToL10N","Error","translation","language","$interpolate","angular","translateService","getLanguage","setLanguage","_language","_codeToL10N","emulatorServicesCompilationDate","log","log_1","getCurrentTime","window","performance","now","Date","getTime","getLogEntry","args","logLevel","millisecondsFromStart","startTime","storeLog","lastLogs","shift","push","getLogs","alwaysLogs","concat","alwaysLog","_i","arguments","ILogLevel","ALWAYS","console","info","apply","INFO","debug","DEBUG","warn","WARN","error","ERROR","LOG","stateService","setSimulateServerDelayMilliseconds","_simulateServerDelayMilliseconds","simulateServerDelayMilliseconds","setPlayMode","_playMode","playMode","setRandomSeed","_randomSeed","randomSeed","setPlayers","_playersInfo","playersInfo","initNewMatch","game","throwError","currentState","lastState","currentVisibleTo","lastVisibleTo","lastMove","turnIndexBeforeMove","turnIndex","endMatchScores","moveNumber","getKeys","object","Object","keys","key","clone","obj","copy","isNull","undefined","msg","join","getMoveForPlayerIndex","playerIndex","move","moveForPlayer","k","operation","set","visibleToPlayerIndexes","indexOf","value","getStateForPlayerIndex","gameState","visibleTo","result","shuffle","keysCopy","slice","index","randomFromTo","removed","splice","from","to","floor","random","processApiOperation","setTurn","setRandomInteger","setVisibility","endMatch","toJson","setTurnOrEndMatchCount","scores","$timeout","opShuffle","shuffledKeys","oldGameState","oldVisibleTo","j","fromKey","toKey","opDelete","randomValue","opSet","getYourPlayerIndex","getMatchState","setMatchState","data","delayedSendUpdateUi","moveForIndex","stateBeforeMove","stateAfterMove","isMoveOk","turnIndexAfterMove","numberOfPlayers","updateUI","yourPlayerIndex","sendUpdateUi","makeMove","operations","seedrandom","setGame","_game","getEndMatchScores","messageService","sendMessage","message","gameUrl","parent","postMessage","addMessageListener","listener","event","source","$rootScope","$apply","location","gameService","lastUpdateUI","wasYourTurn","isLocalTesting","getPlayers","actualNumberOfPlayers","minNumberOfPlayers","maxNumberOfPlayers","playerId","avatarImageUrl","displayName","didCallSetGame","isMoveOkResult","gameReady","search","alphaBetaService","alphaBetaDecision","startingState","getNextStates","getStateScoreForIndex0","getDebugStateToString","alphaBetaLimits","millisecondsLimit","maxDepth","getScoreForIndex0","NEGATIVE_INFINITY","POSITIVE_INFINITY","bestState","nextBestStateAndScore","nextBestScore","bestScore","nextBestState","isWin","isHalfTimePassed","isTimeout","isAllTimePassed","depth","alpha","beta","states","state","scoreForIndex0","max","min","resizeGameAreaService","setWidthToHeight","_widthToHeight","widthToHeight","gameArea","doc","oldSizes","round2","num","originalWindowWidth","innerWidth","originalWindowHeight","innerHeight","windowWidth","windowHeight","style","display","newWidthToHeight","keepMargin","position","left","top","module","filter","$parse","isObject","this","dragAndDropService","addDragListener","touchElementId","handleDragEvent","touchHandler","touch","changedTouches","handleEvent","type","clientX","clientY","mouseDownHandler","isMouseDown","mouseMoveHandler","mouseUpHandler","preventDefault","stopPropagation","cancelBubble","returnValue","$location","$interval","service","_location","_rootScope","_timeout","_interval","_interpolate","factory","angularErrorHandler","exception","cause","errMsg","stack","gameLogs","alert","plainPojoErr","fromJson","emailJavaScriptError","onerror","errorMsg","url","lineNumber","column","errorObj"],"mappings":"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"}