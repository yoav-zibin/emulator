{"version":3,"file":"turnBasedServices.3.min.js","sources":["turnBasedServices.3.js"],"names":["emulatorServicesCompilationDate","gamingPlatform","log","log_1","getCurrentTime","window","performance","now","Date","getTime","getLogEntry","args","logLevel","consoleFunc","millisecondsFromStart","startTime","apply","console","Math","round","concat","storeLog","lastLogs","length","shift","push","getLogs","alwaysLogs","alwaysLog","_i","arguments","ILogLevel","ALWAYS","info","INFO","debug","DEBUG","warn","WARN","error","ERROR","LOG","stateService","setSimulateServerDelayMilliseconds","_simulateServerDelayMilliseconds","simulateServerDelayMilliseconds","setPlayMode","_playMode","playMode","setRandomSeed","_randomSeed","randomSeed","setPlayers","_playersInfo","playersInfo","initNewMatch","game","throwError","currentState","lastState","currentVisibleTo","lastVisibleTo","lastMove","turnIndexBeforeMove","turnIndex","endMatchScores","moveNumber","getKeys","object","Object","keys","key","clone","obj","angular","copy","isNull","undefined","msg","join","Error","getMoveForPlayerIndex","playerIndex","move","moveForPlayer","move_1","operation","set","visibleToPlayerIndexes","indexOf","value","getStateForPlayerIndex","gameState","visibleTo","result","keys_1","shuffle","keysCopy","slice","index","randomFromTo","removed","splice","from","to","floor","random","processApiOperation","setTurn","setRandomInteger","setVisibility","endMatch","toJson","setTurnOrEndMatchCount","scores","$timeout","opShuffle","shuffledKeys","oldGameState","oldVisibleTo","j","fromKey","toKey","opDelete","randomValue","opSet","getYourPlayerIndex","Number","getMatchState","setMatchState","data","delayedSendUpdateUi","yourPlayerIndex","moveForIndex","stateBeforeMove","stateAfterMove","nextUpdateUI","turnIndexAfterMove","numberOfPlayers","equals","lastSentUpdateUI","isMoveOk","updateUI","sendUpdateUi","makeMove","operations","seedrandom","operations_1","setGame","_game","getEndMatchScores","messageService","sendMessage","message","gameUrl","parent","postMessage","addMessageListener","listener","addEventListener","event","source","$rootScope","$apply","location","toString","gameService","params","lastUpdateUI","wasYourTurn","isLocalTesting","getPlayers","actualNumberOfPlayers","minNumberOfPlayers","maxNumberOfPlayers","i","playerId","avatarImageUrl","displayName","didCallSetGame","isMoveOkResult","setLanguage","translate","language","codeToL10N","setTimeout","setLanguageResult","gameReady","search","substr","moveService","convertOldState","state","STATE_KEY","convertIsMoveOk","convertOldMove","convertUpdate","convertNewMove","isOver","oldGame","checkMoveOk","newParams","resizeMapArea","rescale","image","document","getElementById","imageId","map","mapId","widthScale","width","originalWidth","heightScale","height","originalHeight","areaElements","getElementsByTagName","areaIndex","areaElement","originalCoords","getAttribute","setAttribute","coords","split","coordsPercent","coordNum","setInterval","alphaBetaService","alphaBetaDecision","startingState","getNextStates","getStateScoreForIndex0","getDebugStateToString","alphaBetaLimits","alphaBetaDecisionMayReturnNull","millisecondsLimit","maxDepth","getScoreForIndex0","NEGATIVE_INFINITY","POSITIVE_INFINITY","bestState","nextBestStateAndScore","nextBestScore","bestScore","nextBestState","isWin","isHalfTimePassed","isTimeout","isAllTimePassed","depth","alpha","beta","states","scoreForIndex0","max","min","resizeGameAreaService","setWidthToHeight","_widthToHeight","widthToHeight","gameArea","doc","oldSizes","round2","num","originalWindowWidth","innerWidth","originalWindowHeight","innerHeight","windowWidth","windowHeight","style","display","newWidthToHeight","keepMargin","position","left","top","createTranslateService","translationId","interpolateParams","translation","$interpolate","translateService","getLanguage","_language","_codeToL10N","module","filter","$parse","translateFilter","isObject","this","$stateful","dragAndDropService","addDragListener","touchElementId","handleDragEvent","touchHandler","touch","changedTouches","handleEvent","type","clientX","clientY","mouseDownHandler","isMouseDown","mouseMoveHandler","mouseUpHandler","preventDefault","stopPropagation","cancelBubble","returnValue","copyNamespaceToWindow","w","g","run","_location","_rootScope","_timeout","_interval","_interpolate","$location","$interval","factory","angularErrorHandler","exception","cause","errMsg","stack","gameLogs","alert","plainPojoErr","fromJson","emailJavaScriptError","onerror","errorMsg","url","lineNumber","column","errorObj"],"mappings":"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"}