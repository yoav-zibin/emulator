{"version":3,"file":"turnBasedServices.3.min.js","sources":["turnBasedServices.3.js"],"names":["resizeMapArea","params","rescale","image","document","getElementById","imageId","map","mapId","widthScale","width","originalWidth","heightScale","height","originalHeight","areaElements","getElementsByTagName","areaIndex","length","areaElement","originalCoords","getAttribute","setAttribute","coords","split","coordsPercent","i","coordNum","Number","Math","round","toString","addEventListener","setInterval","createTranslateService","translate","translationId","interpolateParams","codeToL10N","Error","translation","log","error","language","$interpolate","angular","translateService","getLanguage","setLanguage","_language","_codeToL10N","emulatorServicesCompilationDate","log_1","getCurrentTime","window","performance","now","Date","getTime","getLogEntry","args","logLevel","millisecondsFromStart","startTime","storeLog","lastLogs","shift","push","getLogs","concat","alwaysLogs","alwaysLog","_i","arguments","ILogLevel","ALWAYS","console","info","apply","INFO","debug","DEBUG","warn","WARN","ERROR","LOG","stateService","setSimulateServerDelayMilliseconds","_simulateServerDelayMilliseconds","simulateServerDelayMilliseconds","setPlayMode","_playMode","playMode","setRandomSeed","_randomSeed","randomSeed","setPlayers","_playersInfo","playersInfo","initNewMatch","game","throwError","currentState","lastState","currentVisibleTo","lastVisibleTo","lastMove","turnIndexBeforeMove","turnIndex","endMatchScores","moveNumber","getKeys","object","Object","keys","key","clone","obj","copy","isNull","undefined","msg","join","getMoveForPlayerIndex","playerIndex","move","moveForPlayer","move_1","operation","set","visibleToPlayerIndexes","indexOf","value","getStateForPlayerIndex","gameState","visibleTo","result","keys_1","shuffle","keysCopy","slice","index","randomFromTo","removed","splice","from","to","floor","random","processApiOperation","setTurn","setRandomInteger","setVisibility","endMatch","toJson","setTurnOrEndMatchCount","scores","$timeout","opShuffle","shuffledKeys","oldGameState","oldVisibleTo","j","fromKey","toKey","opDelete","randomValue","opSet","getYourPlayerIndex","getMatchState","setMatchState","data","delayedSendUpdateUi","yourPlayerIndex","moveForIndex","stateBeforeMove","stateAfterMove","isMoveOk","turnIndexAfterMove","numberOfPlayers","updateUI","sendUpdateUi","makeMove","operations","seedrandom","operations_1","setGame","_game","getEndMatchScores","messageService","sendMessage","message","gameUrl","parent","postMessage","addMessageListener","listener","event","source","$rootScope","$apply","location","gameService","lastUpdateUI","wasYourTurn","isLocalTesting","getPlayers","actualNumberOfPlayers","minNumberOfPlayers","maxNumberOfPlayers","playerId","avatarImageUrl","displayName","didCallSetGame","isMoveOkResult","setTimeout","setLanguageResult","gameReady","search","substr","moveService","convertOldState","state","STATE_KEY","board","delta","convertIsMoveOk","convertOldMove","convertUpdate","convertNewMove","isOver","oldGame","checkMoveOk","newParams","alphaBetaService","alphaBetaDecision","startingState","getNextStates","getStateScoreForIndex0","getDebugStateToString","alphaBetaLimits","alphaBetaDecisionMayReturnNull","millisecondsLimit","maxDepth","getScoreForIndex0","NEGATIVE_INFINITY","POSITIVE_INFINITY","bestState","nextBestStateAndScore","nextBestScore","bestScore","nextBestState","isWin","isHalfTimePassed","isTimeout","isAllTimePassed","depth","alpha","beta","states","scoreForIndex0","max","min","resizeGameAreaService","setWidthToHeight","_widthToHeight","widthToHeight","gameArea","doc","oldSizes","round2","num","originalWindowWidth","innerWidth","originalWindowHeight","innerHeight","windowWidth","windowHeight","style","display","newWidthToHeight","keepMargin","position","left","top","module","filter","$parse","translateFilter","isObject","this","$stateful","dragAndDropService","addDragListener","touchElementId","handleDragEvent","touchHandler","touch","changedTouches","handleEvent","type","clientX","clientY","mouseDownHandler","isMouseDown","mouseMoveHandler","mouseUpHandler","preventDefault","stopPropagation","cancelBubble","returnValue","$location","$interval","run","_location","_rootScope","_timeout","_interval","_interpolate","factory","angularErrorHandler","exception","cause","errMsg","stack","gameLogs","alert","plainPojoErr","fromJson","emailJavaScriptError","onerror","errorMsg","url","lineNumber","column","errorObj"],"mappings":"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"}