{"version":3,"file":"turnBasedServices.3.min.js","sources":["turnBasedServices.3.js"],"names":["resizeMapArea","params","rescale","image","document","getElementById","imageId","map","mapId","widthScale","width","originalWidth","heightScale","height","originalHeight","areaElements","getElementsByTagName","areaIndex","length","areaElement","originalCoords","getAttribute","setAttribute","coords","split","coordsPercent","i","coordNum","Number","Math","round","toString","addEventListener","setInterval","createTranslateService","translate","translationId","interpolateParams","codeToL10N","Error","translation","log","error","language","$interpolate","angular","translateService","getLanguage","setLanguage","_language","_codeToL10N","emulatorServicesCompilationDate","log_1","getCurrentTime","window","performance","now","Date","getTime","getLogEntry","args","logLevel","millisecondsFromStart","startTime","storeLog","lastLogs","shift","push","getLogs","alwaysLogs","concat","alwaysLog","_i","arguments","ILogLevel","ALWAYS","console","info","apply","INFO","debug","DEBUG","warn","WARN","ERROR","LOG","stateService","setSimulateServerDelayMilliseconds","_simulateServerDelayMilliseconds","simulateServerDelayMilliseconds","setPlayMode","_playMode","playMode","setRandomSeed","_randomSeed","randomSeed","setPlayers","_playersInfo","playersInfo","initNewMatch","game","throwError","currentState","lastState","currentVisibleTo","lastVisibleTo","lastMove","turnIndexBeforeMove","turnIndex","endMatchScores","moveNumber","getKeys","object","Object","keys","key","clone","obj","copy","isNull","undefined","msg","join","getMoveForPlayerIndex","playerIndex","move","moveForPlayer","operation","set","visibleToPlayerIndexes","indexOf","value","getStateForPlayerIndex","gameState","visibleTo","result","shuffle","keysCopy","slice","index","randomFromTo","removed","splice","from","to","floor","random","processApiOperation","setTurn","setRandomInteger","setVisibility","endMatch","toJson","setTurnOrEndMatchCount","scores","$timeout","opShuffle","shuffledKeys","oldGameState","oldVisibleTo","j","fromKey","toKey","opDelete","randomValue","opSet","getYourPlayerIndex","getMatchState","setMatchState","data","delayedSendUpdateUi","moveForIndex","stateBeforeMove","stateAfterMove","isMoveOk","turnIndexAfterMove","numberOfPlayers","updateUI","yourPlayerIndex","sendUpdateUi","makeMove","operations","seedrandom","setGame","_game","getEndMatchScores","messageService","sendMessage","message","gameUrl","parent","postMessage","addMessageListener","listener","event","source","$rootScope","$apply","location","gameService","lastUpdateUI","wasYourTurn","isLocalTesting","getPlayers","actualNumberOfPlayers","minNumberOfPlayers","maxNumberOfPlayers","playerId","avatarImageUrl","displayName","didCallSetGame","isMoveOkResult","setTimeout","setLanguageResult","gameReady","search","substr","moveService","convertIsMoveOk","STATE_KEY","convertOldMove","convertUpdate","board","delta","convertNewMove","isOver","oldGame","checkMoveOk","newParams","alphaBetaService","alphaBetaDecision","startingState","getNextStates","getStateScoreForIndex0","getDebugStateToString","alphaBetaLimits","millisecondsLimit","maxDepth","getScoreForIndex0","NEGATIVE_INFINITY","POSITIVE_INFINITY","bestState","nextBestStateAndScore","nextBestScore","bestScore","nextBestState","isWin","isHalfTimePassed","isTimeout","isAllTimePassed","depth","alpha","beta","states","state","scoreForIndex0","max","min","resizeGameAreaService","setWidthToHeight","_widthToHeight","widthToHeight","gameArea","doc","oldSizes","round2","num","originalWindowWidth","innerWidth","originalWindowHeight","innerHeight","windowWidth","windowHeight","style","display","newWidthToHeight","keepMargin","position","left","top","module","filter","$parse","translateFilter","isObject","this","$stateful","dragAndDropService","addDragListener","touchElementId","handleDragEvent","touchHandler","touch","changedTouches","handleEvent","type","clientX","clientY","mouseDownHandler","isMouseDown","mouseMoveHandler","mouseUpHandler","preventDefault","stopPropagation","cancelBubble","returnValue","$location","$interval","run","_location","_rootScope","_timeout","_interval","_interpolate","factory","angularErrorHandler","exception","cause","errMsg","stack","gameLogs","alert","plainPojoErr","fromJson","emailJavaScriptError","onerror","errorMsg","url","lineNumber","column","errorObj"],"mappings":"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"}