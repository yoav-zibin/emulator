{"version":3,"file":"turnBasedServices.3.min.js","sources":["turnBasedServices.3.js"],"names":["createUrlParams","query","location","search","substr","result","split","forEach","part","item","decodeURIComponent","resizeMapArea","params","rescale","image","document","getElementById","imageId","map","mapId","widthScale","width","originalWidth","heightScale","height","originalHeight","areaElements","getElementsByTagName","areaIndex","length","areaElement","originalCoords","getAttribute","setAttribute","coords","coordsPercent","i","coordNum","Number","Math","round","toString","addEventListener","setInterval","createTranslateService","getFirstBrowserLanguage","language","nav","window","navigator","browserLanguagePropertyKeys","angular","isArray","languages","getLocale","join","indexOf","array","searchElement","len","negotiateLocale","preferred","avail","locale","lowercase","n","$availableLanguageKeys","push","parts","getLanguage","lang","urlParams","Error","translate","translationId","interpolateParams","angularTranslations","translation","$interpolate","angularTranslationLanguages","console","log","myStorage","getItem","angularTranslationsLoaded","codeToL10N","setItem","script","write","translateService","emulatorServicesCompilationDate","log_1","getCurrentTime","performance","now","Date","getTime","getLogEntry","args","logLevel","millisecondsFromStart","startTime","storeLog","lastLogs","shift","getLogs","entries","concat","alwaysLogs","alwaysLog","_i","arguments","ILogLevel","ALWAYS","info","apply","INFO","debug","DEBUG","warn","WARN","error","ERROR","LOG","makeShort","str","substring","key","localStorage","stringValue","fromJson","value","toJson","stateService","setSimulateServerDelayMilliseconds","_simulateServerDelayMilliseconds","simulateServerDelayMilliseconds","setPlayMode","_playMode","playMode","setRandomSeed","_randomSeed","randomSeed","setPlayers","_playersInfo","playersInfo","initNewMatch","game","throwError","currentState","lastState","currentVisibleTo","lastVisibleTo","lastMove","turnIndexBeforeMove","turnIndex","endMatchScores","moveNumber","getKeys","object","Object","keys","clone","obj","copy","isNull","undefined","msg","getMoveForPlayerIndex","playerIndex","move","moveForPlayer","k","operation","set","visibleToPlayerIndexes","getStateForPlayerIndex","gameState","visibleTo","shuffle","keysCopy","slice","index","randomFromTo","removed","splice","from","to","floor","random","processApiOperation","setTurn","setRandomInteger","setVisibility","endMatch","setTurnOrEndMatchCount","scores","$timeout","opShuffle","shuffledKeys","oldGameState","oldVisibleTo","j","fromKey","toKey","opDelete","randomValue","opSet","getYourPlayerIndex","getMatchState","setMatchState","data","delayedSendUpdateUi","moveForIndex","stateBeforeMove","stateAfterMove","isMoveOk","turnIndexAfterMove","numberOfPlayers","updateUI","yourPlayerIndex","sendUpdateUi","makeMove","operations","seedrandom","setGame","_game","getEndMatchScores","messageService","sendMessage","message","gameUrl","parent","postMessage","addMessageListener","listener","event","source","$rootScope","$apply","gameService","lastUpdateUI","wasYourTurn","isLocalTesting","getPlayers","actualNumberOfPlayers","minNumberOfPlayers","maxNumberOfPlayers","playerId","avatarImageUrl","displayName","didCallSetGame","lastMessage","isMoveOkResult","gameReady","alphaBetaService","alphaBetaDecision","startingState","getNextStates","getStateScoreForIndex0","getDebugStateToString","alphaBetaLimits","millisecondsLimit","maxDepth","getScoreForIndex0","NEGATIVE_INFINITY","POSITIVE_INFINITY","bestState","nextBestStateAndScore","nextBestScore","bestScore","nextBestState","isWin","isHalfTimePassed","isTimeout","isAllTimePassed","depth","alpha","beta","states","state","scoreForIndex0","max","min","resizeGameAreaService","setWidthToHeight","_widthToHeight","widthToHeight","gameArea","doc","oldSizes","round2","num","originalWindowWidth","innerWidth","originalWindowHeight","innerHeight","windowWidth","windowHeight","style","display","newWidthToHeight","keepMargin","position","left","top","module","filter","$parse","isObject","this","dragAndDropService","addDragListener","touchElementId","handleDragEvent","touchHandler","touch","changedTouches","handleEvent","type","clientX","clientY","mouseDownHandler","isMouseDown","mouseMoveHandler","mouseUpHandler","preventDefault","stopPropagation","cancelBubble","returnValue","$location","$interval","service","_location","_rootScope","_timeout","_interval","_interpolate","factory","angularErrorHandler","exception","cause","errMsg","gameLogs","emailJavaScriptError","alert","onerror","errorMsg","url","lineNumber","column","errorObj"],"mappings":"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"}