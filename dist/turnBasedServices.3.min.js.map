{"version":3,"file":"turnBasedServices.3.min.js","sources":["turnBasedServices.3.js"],"names":["createUrlParams","query","location","search","substr","result","split","forEach","part","item","decodeURIComponent","resizeMapArea","params","rescale","image","document","getElementById","imageId","map","mapId","widthScale","width","originalWidth","heightScale","height","originalHeight","areaElements","getElementsByTagName","areaIndex","length","areaElement","originalCoords","getAttribute","setAttribute","coords","coordsPercent","i","coordNum","Number","Math","round","toString","addEventListener","setInterval","createTranslateService","getFirstBrowserLanguage","language","nav","window","navigator","browserLanguagePropertyKeys","angular","isArray","languages","getLocale","join","indexOf","array","searchElement","len","negotiateLocale","preferred","avail","locale","lowercase","n","$availableLanguageKeys","push","parts","getLanguage","lang","urlParams","Error","translate","translationId","interpolateParams","angularTranslations","translation","$interpolate","angularTranslationLanguages","console","log","myStorage","getItem","angularTranslationsLoaded","codeToL10N","setItem","script","write","translateService","emulatorServicesCompilationDate","log_1","getCurrentTime","performance","now","Date","getTime","getLogEntry","args","time","startTime","storeLog","lastLogs","shift","convertLogEntriesToStrings","logs","lines","entry","stringArgs","j","arg","stringArg","JSON","stringify","toFixed","getLogs","alwaysLogs","alwaysLog","_i","arguments","info","apply","debug","warn","error","makeShort","str","substring","key","localStorage","stringValue","fromJson","value","toJson","stateService","setSimulateServerDelayMilliseconds","_simulateServerDelayMilliseconds","simulateServerDelayMilliseconds","setPlayMode","_playMode","playMode","setRandomSeed","_randomSeed","randomSeed","setPlayers","_playersInfo","playersInfo","initNewMatch","game","throwError","currentState","lastState","currentVisibleTo","lastVisibleTo","lastMove","turnIndexBeforeMove","turnIndex","endMatchScores","moveNumber","getKeys","object","Object","keys","clone","obj","copy","isNull","undefined","msg","getMoveForPlayerIndex","playerIndex","move","moveForPlayer","k","operation","set","visibleToPlayerIndexes","getStateForPlayerIndex","gameState","visibleTo","shuffle","keysCopy","slice","index","randomFromTo","removed","splice","from","to","floor","random","processApiOperation","setTurn","setRandomInteger","setVisibility","endMatch","setTurnOrEndMatchCount","scores","$timeout","opShuffle","shuffledKeys","oldGameState","oldVisibleTo","fromKey","toKey","opDelete","randomValue","opSet","getYourPlayerIndex","getMatchState","setMatchState","data","delayedSendUpdateUi","moveForIndex","stateBeforeMove","stateAfterMove","isMoveOk","turnIndexAfterMove","numberOfPlayers","updateUI","yourPlayerIndex","sendUpdateUi","makeMove","operations","seedrandom","setGame","_game","getEndMatchScores","messageService","sendMessage","message","gameUrl","parent","postMessage","addMessageListener","listener","event","source","$rootScope","$apply","gameService","lastUpdateUI","wasYourTurn","isLocalTesting","getPlayers","actualNumberOfPlayers","minNumberOfPlayers","maxNumberOfPlayers","playerId","avatarImageUrl","displayName","didCallSetGame","lastMessage","isMoveOkResult","gameReady","alphaBetaService","alphaBetaDecision","startingState","getNextStates","getStateScoreForIndex0","getDebugStateToString","alphaBetaLimits","millisecondsLimit","maxDepth","getScoreForIndex0","NEGATIVE_INFINITY","POSITIVE_INFINITY","bestState","nextBestStateAndScore","nextBestScore","bestScore","nextBestState","isWin","isHalfTimePassed","isTimeout","isAllTimePassed","depth","alpha","beta","states","state","scoreForIndex0","max","min","resizeGameAreaService","setWidthToHeight","_widthToHeight","widthToHeight","gameArea","doc","oldSizes","round2","num","originalWindowWidth","innerWidth","originalWindowHeight","innerHeight","windowWidth","windowHeight","style","display","newWidthToHeight","keepMargin","position","left","top","$translate","module","filter","$parse","isObject","this","dragAndDropService","addDragListener","touchElementId","handleDragEvent","touchHandler","touch","changedTouches","handleEvent","type","clientX","clientY","mouseDownHandler","isMouseDown","mouseMoveHandler","mouseUpHandler","preventDefault","stopPropagation","cancelBubble","returnValue","$location","$interval","service","_location","_rootScope","_timeout","_interval","_interpolate","factory","angularErrorHandler","exception","cause","stack","replace","errStr","emailJavaScriptError","onerror","errorMsg","url","lineNumber","column","errorObj"],"mappings":"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"}