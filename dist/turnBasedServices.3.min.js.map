{"version":3,"file":"turnBasedServices.3.min.js","sources":["turnBasedServices.3.js"],"names":["createUrlParams","query","location","search","substr","result","split","forEach","part","item","decodeURIComponent","resizeMapArea","params","rescale","image","document","getElementById","imageId","map","mapId","widthScale","width","originalWidth","heightScale","height","originalHeight","areaElements","getElementsByTagName","areaIndex","length","areaElement","originalCoords","getAttribute","setAttribute","coords","coordsPercent","i","coordNum","Number","Math","round","toString","addEventListener","setInterval","createTranslateService","getFirstBrowserLanguage","language","nav","window","navigator","browserLanguagePropertyKeys","angular","isArray","languages","getLocale","join","indexOf","array","searchElement","len","negotiateLocale","preferred","avail","locale","lowercase","n","$availableLanguageKeys","push","parts","getLanguage","lang","urlParams","Error","translate","translationId","interpolateParams","angularTranslations","translation","$interpolate","angularTranslationLanguages","log","info","myStorage","getItem","angularTranslationsLoaded","codeToL10N","setItem","script","write","translateService","emulatorServicesCompilationDate","log_1","getCurrentTime","performance","now","Date","getTime","getLogEntry","args","logLevel","millisecondsFromStart","startTime","storeLog","lastLogs","shift","getLogs","alwaysLogs","concat","alwaysLog","_i","arguments","ILogLevel","ALWAYS","console","apply","INFO","debug","DEBUG","warn","WARN","error","ERROR","LOG","makeShort","str","substring","key","localStorage","stringValue","fromJson","value","toJson","stateService","setSimulateServerDelayMilliseconds","_simulateServerDelayMilliseconds","simulateServerDelayMilliseconds","setPlayMode","_playMode","playMode","setRandomSeed","_randomSeed","randomSeed","setPlayers","_playersInfo","playersInfo","initNewMatch","game","throwError","currentState","lastState","currentVisibleTo","lastVisibleTo","lastMove","turnIndexBeforeMove","turnIndex","endMatchScores","moveNumber","getKeys","object","Object","keys","clone","obj","copy","isNull","undefined","msg","getMoveForPlayerIndex","playerIndex","move","moveForPlayer","k","operation","set","visibleToPlayerIndexes","getStateForPlayerIndex","gameState","visibleTo","shuffle","keysCopy","slice","index","randomFromTo","removed","splice","from","to","floor","random","processApiOperation","setTurn","setRandomInteger","setVisibility","endMatch","setTurnOrEndMatchCount","scores","$timeout","opShuffle","shuffledKeys","oldGameState","oldVisibleTo","j","fromKey","toKey","opDelete","randomValue","opSet","getYourPlayerIndex","getMatchState","setMatchState","data","delayedSendUpdateUi","moveForIndex","stateBeforeMove","stateAfterMove","isMoveOk","turnIndexAfterMove","numberOfPlayers","updateUI","yourPlayerIndex","sendUpdateUi","makeMove","operations","seedrandom","setGame","_game","getEndMatchScores","messageService","sendMessage","message","gameUrl","parent","postMessage","addMessageListener","listener","event","source","$rootScope","$apply","gameService","lastUpdateUI","wasYourTurn","isLocalTesting","getPlayers","actualNumberOfPlayers","minNumberOfPlayers","maxNumberOfPlayers","playerId","avatarImageUrl","displayName","didCallSetGame","isMoveOkResult","gameReady","alphaBetaService","alphaBetaDecision","startingState","getNextStates","getStateScoreForIndex0","getDebugStateToString","alphaBetaLimits","millisecondsLimit","maxDepth","getScoreForIndex0","NEGATIVE_INFINITY","POSITIVE_INFINITY","bestState","nextBestStateAndScore","nextBestScore","bestScore","nextBestState","isWin","isHalfTimePassed","isTimeout","isAllTimePassed","depth","alpha","beta","states","state","scoreForIndex0","max","min","resizeGameAreaService","setWidthToHeight","_widthToHeight","widthToHeight","gameArea","doc","oldSizes","round2","num","originalWindowWidth","innerWidth","originalWindowHeight","innerHeight","windowWidth","windowHeight","style","display","newWidthToHeight","keepMargin","position","left","top","module","filter","$parse","isObject","this","dragAndDropService","addDragListener","touchElementId","handleDragEvent","touchHandler","touch","changedTouches","handleEvent","type","clientX","clientY","mouseDownHandler","isMouseDown","mouseMoveHandler","mouseUpHandler","preventDefault","stopPropagation","cancelBubble","returnValue","$location","$interval","service","_location","_rootScope","_timeout","_interval","_interpolate","factory","angularErrorHandler","exception","cause","errMsg","stack","gameLogs","alert","plainPojoErr","emailJavaScriptError","onerror","errorMsg","url","lineNumber","column","errorObj"],"mappings":"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"}